<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4">
    <div class="max-w-5xl mx-auto">
        <!-- Header -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold text-gray-900 mb-2">
                        <i class="fas fa-certificate text-green-600 mr-3"></i>
                        <%= __('CERTIFICATE_INFO_TITLE') %>
                    </h1>
                    <p class="text-gray-600"><%= __('CERTIFICATE_INFO_SUBTITLE') %></p>
                </div>
                <a href="/user/details/<%= certInfo.userId %>" 
                   class="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                    <i class="fas fa-arrow-left mr-2"></i>
                    <%= __('CERTIFICATE_BACK_TO_USER') %>
                </a>
            </div>
            <div class="mt-4 p-4 bg-green-50 border-l-4 border-green-400 rounded">
                <p class="text-green-700 font-semibold">
                    <%= __('CERTIFICATE_CREATED_SUCCESS') %>
                </p>
            </div>
        </div>

        <!-- Certificate Details -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold text-gray-900 mb-4">
                <i class="fas fa-info-circle text-blue-600 mr-2"></i>
                <%= __('CERTIFICATE_DETAILS_SECTION') %>
            </h2>
            <p class="text-gray-600 mb-4"><%= __('CERTIFICATE_ENCODED_INFO') %></p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-gray-50 p-4 rounded-lg">
                    <dt class="text-sm font-medium text-gray-500 mb-1"><%= __('CERTIFICATE_CN') %></dt>
                    <dd class="text-lg font-mono text-gray-900"><%= certInfo.certificateDetails.CN %></dd>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg">
                    <dt class="text-sm font-medium text-gray-500 mb-1"><%= __('CERTIFICATE_EMAIL') %></dt>
                    <dd class="text-lg font-mono text-gray-900"><%= certInfo.certificateDetails.EMAIL %></dd>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg">
                    <dt class="text-sm font-medium text-gray-500 mb-1"><%= __('CERTIFICATE_OU') %></dt>
                    <dd class="text-lg font-mono text-gray-900"><%= certInfo.certificateDetails.OU %></dd>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg">
                    <dt class="text-sm font-medium text-gray-500 mb-1"><%= __('CERTIFICATE_O') %></dt>
                    <dd class="text-lg font-mono text-gray-900"><%= certInfo.certificateDetails.O %></dd>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg">
                    <dt class="text-sm font-medium text-gray-500 mb-1"><%= __('CERTIFICATE_C') %></dt>
                    <dd class="text-lg font-mono text-gray-900"><%= certInfo.certificateDetails.C %></dd>
                </div>
            </div>
        </div>

        <!-- Password Section -->
        <div class="bg-red-50 border-2 border-red-400 rounded-lg shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold text-red-900 mb-3">
                <i class="fas fa-key text-red-600 mr-2"></i>
                <%= __('CERTIFICATE_PASSWORD_SECTION') %>
            </h2>
            <div class="bg-red-100 border-l-4 border-red-600 p-4 mb-4 rounded">
                <p class="text-red-800 font-bold text-lg">
                    <%= __('CERTIFICATE_PASSWORD_WARNING') %>
                </p>
            </div>
            <p class="text-gray-700 mb-4"><%= __('CERTIFICATE_PASSWORD_INFO') %></p>
            
            <div class="bg-white p-4 rounded-lg border-2 border-red-300">
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    <%= __('CERTIFICATE_PASSWORD_LABEL') %>
                </label>
                <div class="flex gap-2">
                    <input type="text" 
                           id="cert-password" 
                           value="<%= certInfo.password %>" 
                           readonly
                           class="flex-1 px-4 py-3 text-2xl font-mono font-bold bg-gray-100 border-2 border-gray-300 rounded-lg text-center select-all"
                           onclick="this.select()">
                    <button onclick="copyPassword()" 
                            class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition">
                        <i class="fas fa-copy mr-2"></i>
                        <%= __('CERTIFICATE_COPY_PASSWORD') %>
                    </button>
                </div>
            </div>

            <!-- Download Button -->
            <div class="mt-6 text-center">
                <a href="/user/<%= certInfo.userId %>/download-certificate" 
                   class="inline-flex items-center px-8 py-4 bg-green-600 text-white text-lg font-bold rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 shadow-lg transition transform hover:scale-105">
                    <i class="fas fa-download mr-3"></i>
                    <%= __('CERTIFICATE_DOWNLOAD_BUTTON') %>
                </a>
            </div>
        </div>

        <!-- Email Template -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold text-gray-900 mb-3">
                <i class="fas fa-envelope text-indigo-600 mr-2"></i>
                <%= __('CERTIFICATE_EMAIL_TEMPLATE_SECTION') %>
            </h2>
            <p class="text-gray-600 mb-4"><%= __('CERTIFICATE_EMAIL_TEMPLATE_INFO') %></p>
            
            <button onclick="copyEmailTemplate()" 
                    class="mb-4 inline-flex items-center px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition">
                <i class="fas fa-copy mr-2"></i>
                <%= __('CERTIFICATE_COPY_EMAIL_TEMPLATE') %>
            </button>

            <div id="email-template" class="bg-gray-50 p-6 rounded-lg border border-gray-300 font-mono text-sm whitespace-pre-wrap select-all">
<strong>Betreff:</strong> <%= __('CERTIFICATE_EMAIL_SUBJECT') %>

<%= __('CERTIFICATE_EMAIL_GREETING') %> <%= certInfo.username %>,

<%= __('CERTIFICATE_EMAIL_INTRO') %>

<strong><%= __('CERTIFICATE_EMAIL_FILE_INFO') %>:</strong> <%= certInfo.filename %>
<%= __('CERTIFICATE_EMAIL_FILE_ATTACHED') %>

<strong><%= __('CERTIFICATE_EMAIL_PASSWORD_INFO') %></strong>
<%= __('CERTIFICATE_EMAIL_PASSWORD_PLACEHOLDER') %>

<strong>âš ï¸ Sicherheitshinweis:</strong>
<%= __('CERTIFICATE_EMAIL_SECURITY_NOTE') %>

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<strong><%= __('CERTIFICATE_INSTALL_INSTRUCTIONS') %></strong>

<strong>ğŸªŸ <%= __('CERTIFICATE_INSTALL_WINDOWS') %></strong>

1. <%= __('CERTIFICATE_INSTALL_WINDOWS_STEP1') %>
2. <%= __('CERTIFICATE_INSTALL_WINDOWS_STEP2') %>
3. <%= __('CERTIFICATE_INSTALL_WINDOWS_STEP3') %>
4. <%= __('CERTIFICATE_INSTALL_WINDOWS_STEP4') %>
5. <%= __('CERTIFICATE_INSTALL_WINDOWS_STEP5') %>
6. <%= __('CERTIFICATE_INSTALL_WINDOWS_STEP6') %>

<strong>ğŸ¤– <%= __('CERTIFICATE_INSTALL_ANDROID') %></strong>

1. <%= __('CERTIFICATE_INSTALL_ANDROID_STEP1') %>
2. <%= __('CERTIFICATE_INSTALL_ANDROID_STEP2') %>
3. <%= __('CERTIFICATE_INSTALL_ANDROID_STEP3') %>
4. <%= __('CERTIFICATE_INSTALL_ANDROID_STEP4') %>
5. <%= __('CERTIFICATE_INSTALL_ANDROID_STEP5') %>
6. <%= __('CERTIFICATE_INSTALL_ANDROID_STEP6') %>
7. <%= __('CERTIFICATE_INSTALL_ANDROID_STEP7') %>

<strong>ğŸ <%= __('CERTIFICATE_INSTALL_IOS') %></strong>

1. <%= __('CERTIFICATE_INSTALL_IOS_STEP1') %>
2. <%= __('CERTIFICATE_INSTALL_IOS_STEP2') %>
3. <%= __('CERTIFICATE_INSTALL_IOS_STEP3') %>
4. <%= __('CERTIFICATE_INSTALL_IOS_STEP4') %>
5. <%= __('CERTIFICATE_INSTALL_IOS_STEP5') %>
6. <%= __('CERTIFICATE_INSTALL_IOS_STEP6') %>
7. <%= __('CERTIFICATE_INSTALL_IOS_STEP7') %>
8. <%= __('CERTIFICATE_INSTALL_IOS_STEP8') %>

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<%= __('CERTIFICATE_EMAIL_SUPPORT') %>

<%= __('CERTIFICATE_EMAIL_GREETING_END') %>,
<%= __('CERTIFICATE_EMAIL_TEAM') %>
            </div>
        </div>
    </div>
</div>

<script>
function copyPassword() {
    const passwordInput = document.getElementById('cert-password');
    passwordInput.select();
    document.execCommand('copy');
    
    // Show feedback
    alert('<%= __("CERTIFICATE_PASSWORD_COPIED") %>');
}

function copyEmailTemplate() {
    const template = document.getElementById('email-template');
    const range = document.createRange();
    range.selectNode(template);
    window.getSelection().removeAllRanges();
    window.getSelection().addRange(range);
    document.execCommand('copy');
    window.getSelection().removeAllRanges();
    
    // Show feedback
    alert('<%= __("CERTIFICATE_EMAIL_COPIED") %>');
}

// Auto-select password on page load for easy copying
document.addEventListener('DOMContentLoaded', function() {
    const passwordInput = document.getElementById('cert-password');
    passwordInput.focus();
    passwordInput.select();
});
</script>
